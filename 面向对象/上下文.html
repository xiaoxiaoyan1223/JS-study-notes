<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>
        函数的上下文由调用方式决定，同一个函数不同的调用方式，函数的上下文不同
    </p>
    <script>
        var xiaoming={
            nickname:'小明',
            age:12,
            sayhello:function(){
                console.log('我是'+this.nickname+',我'+this.age+'岁了');
            }
        }
        console.log(xiaoming.sayhello());//我是小明，我12岁了

        var sayhello=xiaoming.sayhello;
        sayhello()//我是undefined,我undefined岁了  this不再指向xiangming这个对象  而是指向window对象
    var obj1={
        a:1,
        b:2,
        fn:function(){
            console.log(this.a+this.b);//函数只有被调用才能确定上下文  即this指代的对象
        }
    }
    var obj2={
        a:3,
        b:4,
        fn:obj1.fn
    }
    // 规则1
    obj2.fn()//7  调用的是obj2里面的函数，所以虽然函数体在obj1中 但是上下文是obj2  所以结果为7
    // 规则2 函数()   函数直接加括号调用，则对象是window
    
    // 规则3  数组（类数组对象）枚举出函数进行调用，上下文是这个数组或者类数组对象

    //规则5 利用定时器、延时器调用函数，上下文是window对象
    </script>
</body>
</html>